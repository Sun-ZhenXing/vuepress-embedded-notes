import{_ as t,r as i,o as p,c,a as n,b as s,d as o,e as a}from"./app.3a8b53b9.js";const l={},r=a('<h1 id="wifimanager-自动配网" tabindex="-1"><a class="header-anchor" href="#wifimanager-自动配网" aria-hidden="true">#</a> WiFiManager 自动配网</h1><h2 id="_1-自动配网" tabindex="-1"><a class="header-anchor" href="#_1-自动配网" aria-hidden="true">#</a> 1. 自动配网</h2><h3 id="_1-1-为什么需要自动配网" tabindex="-1"><a class="header-anchor" href="#_1-1-为什么需要自动配网" aria-hidden="true">#</a> 1.1 为什么需要自动配网</h3>',3),u={href:"https://github.com/tzapu/WiFiManager",target:"_blank",rel:"noopener noreferrer"},d=a(`<h3 id="_1-2-wifimanager-的安装" tabindex="-1"><a class="header-anchor" href="#_1-2-wifimanager-的安装" aria-hidden="true">#</a> 1.2 WiFiManager 的安装</h3><p>安装库：在 Arduino IDE 中搜索 <code>WiFiManager tzapu</code> 可以找到对应库，安装稳定版。</p><h3 id="_1-3-wifimanager-api" tabindex="-1"><a class="header-anchor" href="#_1-3-wifimanager-api" aria-hidden="true">#</a> 1.3 WiFiManager API</h3><table><thead><tr><th>常用接口</th><th>功能</th></tr></thead><tbody><tr><td><code>wifiManager.resetSettings()</code></td><td>清除配置信息</td></tr><tr><td><code>wifiManager.autoConnect(ssid, [passwd])</code></td><td>开启热点</td></tr></tbody></table><h2 id="_2-清除-wifi-信息" tabindex="-1"><a class="header-anchor" href="#_2-清除-wifi-信息" aria-hidden="true">#</a> 2. 清除 WiFi 信息</h2><p>为了防止原有 WiFi 信息影响程序运行，或测试 WiFiManager 效果，先清除原 WiFi 信息：</p><div class="language-cpp line-numbers-mode" data-ext="cpp"><pre class="language-cpp"><code><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;DNSServer.h&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;ESP8266WebServer.h&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;ESP8266WiFi.h&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;WiFiManager.h&gt;</span></span>

<span class="token keyword">void</span> <span class="token function">setup</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    Serial<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token number">115200</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// 创建 WiFiManager 对象</span>
    WiFiManager wifiManager<span class="token punctuation">;</span>

    <span class="token comment">// 清除 ESP8266 所存储的 WiFi 连接信息</span>
    wifiManager<span class="token punctuation">.</span><span class="token function">resetSettings</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    Serial<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;ESP8266 WiFi settings cleared!&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">void</span> <span class="token function">loop</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_3-使用自动配网" tabindex="-1"><a class="header-anchor" href="#_3-使用自动配网" aria-hidden="true">#</a> 3. 使用自动配网</h2><p>如果配置信息里面的 WiFi 可以正确连接，那么热点将不会开启。</p><p>热点开启后，打开手机或笔记本电脑的 WiFi，连接后会提示此 WiFi 需要认证，点击认证即可进入配置界面。</p><div class="language-cpp line-numbers-mode" data-ext="cpp"><pre class="language-cpp"><code><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;DNSServer.h&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;ESP8266WebServer.h&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;ESP8266WiFi.h&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;WiFiManager.h&gt;</span></span>

<span class="token keyword">void</span> <span class="token function">setup</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    Serial<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token number">115200</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// 创建 WiFiManager 对象</span>
    WiFiManager wifiManager<span class="token punctuation">;</span>

    <span class="token comment">// 现在将尝试自动连接 WiFi</span>
    <span class="token comment">// 如果连接失败，则自动开启热点，热点名称为 AutoConnectAP</span>
    <span class="token comment">// 热点密码为 PasswordAP</span>
    wifiManager<span class="token punctuation">.</span><span class="token function">autoConnect</span><span class="token punctuation">(</span><span class="token string">&quot;AutoConnectAP&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;PasswordAP&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// WiFi 连接成功后执行下面的代码</span>
    Serial<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">&quot;ESP8266 Connected to &quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// WiFi 名称</span>
    Serial<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>WiFi<span class="token punctuation">.</span><span class="token function">SSID</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    Serial<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">&quot;IP address:\\t&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// IP 地址</span>
    Serial<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>WiFi<span class="token punctuation">.</span><span class="token function">localIP</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">void</span> <span class="token function">loop</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,11);function k(v,m){const e=i("ExternalLinkIcon");return p(),c("div",null,[r,n("p",null,[n("a",u,[s("WiFiManager"),o(e)]),s(" 库可以帮助我们自动配置 WiFi 信息。")]),d])}const b=t(l,[["render",k],["__file","index.html.vue"]]);export{b as default};
